{"version":3,"file":"static/js/MoviePage.7cbd8f85.chunk.js","mappings":"6OAiCA,I,QACA,EAAe,IAA0B,2DC/B5BA,EAAaC,EAAAA,EAAAA,KAAH,0PAaVC,EAASD,EAAAA,EAAAA,OAAH,icASOE,GAcbC,EAAQH,EAAAA,EAAAA,KAAH,6MAYLI,EAAQJ,EAAAA,EAAAA,MAAH,iT,2BC5CZK,GAAeC,EAAAA,EAAAA,OAAK,kBAAM,4BAAN,IAEX,SAASC,IAAc,IAAD,EACnC,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,MAAjC,eAAOG,EAAP,KAAaC,EAAb,KAEA,GAA2BC,EAAAA,EAAAA,MAA3B,eAAQC,GAAR,WAIQC,GAAWC,EAAAA,EAAAA,MAAXD,QAERE,EAAAA,EAAAA,YAAU,WACHF,GAGLG,EAAAA,GAAqBH,EAAOI,MAAM,IAAIC,KAAKR,EAC5C,GAAE,CAACG,IAaJ,OACE,iCACE,UAAChB,EAAD,CAAYsB,SAbK,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAuBf,EAAYgB,OAAOC,cAC3CF,IAGLN,EAAAA,GAAqBM,GAAsBJ,KAAKR,GAChDE,EAAgB,SAAD,OAAUU,IAE1B,EAIG,WACE,SAACpB,EAAD,CACEuB,KAAK,OACLC,KAAK,cACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,MAAOvB,EACPwB,SAjCkB,SAAAX,GACxBZ,EAAeY,EAAEY,cAAcF,MAChC,KAiCK,SAAC/B,EAAD,CAAQ0B,KAAK,SAAb,UACE,SAACxB,EAAD,0BAIHQ,EACC,UAAAA,EAAKwB,eAAL,SAAcC,QACZ,SAACC,EAAA,EAAD,CAAS1B,KAAMA,KAEf,SAACN,EAAD,IAEA,OAGT,C","sources":["images/search.svg","components/pages/MoviesPage/MoviesPage.styled.jsx","components/pages/MoviesPage/MoviesPage.js"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"search\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 2C18 2 20 4 20 6.5c0 .88-.25 1.71-.69 2.4l3.08 3.1L21 13.39l-3.12-3.07c-.69.43-1.51.68-2.38.68C13 11 11 9 11 6.5S13 2 15.5 2m0 2A2.5 2.5 0 0013 6.5 2.5 2.5 0 0015.5 9 2.5 2.5 0 0018 6.5 2.5 2.5 0 0015.5 4m-8 10.5L4 19h14l-4.5-6-3.5 4.5-2.5-3M20 20a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2h5.5c-.32.77-.5 1.61-.5 2.5a6.5 6.5 0 006.5 6.5c.68 0 1.34-.11 1.96-.3L20 15.24V20z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.cc74debd9fc12ac1dc52d68e34d270b4.svg\";\nexport { ForwardRef as ReactComponent };","import styled from '@emotion/styled';\nimport icon from '../../../images/search.svg';\n\nexport const SearchForm = styled.form`\n  position: relative;\n  padding-left: 30px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 30px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  box-sizing: border-box;\n`;\n\nexport const Button = styled.button`\n  position: absolute;\n  right: 0;\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  border-radius: 10px;\n  overflow: hidden;\n  background-image: url(${icon});\n  background-size: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const Label = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  height: 48px;\n  font: inherit;\n  font-size: 19px;\n  border: 1px solid black;\n  border-radius: 10px;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import { useState, lazy, useEffect } from 'react';\nimport * as movieAPI from '../../../services/movie-api';\nimport { Gallery } from 'components/Gallery/Gallery';\n\nimport { SearchForm, Button, Label, Input } from './MoviesPage.styled';\nimport { useSearchParams, useLocation } from 'react-router-dom';\n\nconst NotFoundPage = lazy(() => import('../NotFound/NotFoundPage.js'));\n\nexport default function MoviesPage() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [data, setData] = useState(null);\n  // eslint-disable-next-line no-unused-vars\n  let [_, setSearchParams] = useSearchParams();\n  const handleInputChange = e => {\n    setSearchQuery(e.currentTarget.value);\n  };\n  const { search } = useLocation();\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    movieAPI.fetchSearch(search.slice(7)).then(setData);\n  }, [search]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const normalizeSearchQuery = searchQuery.trim().toLowerCase();\n    if (!normalizeSearchQuery) {\n      return;\n    }\n    movieAPI.fetchSearch(normalizeSearchQuery).then(setData);\n    setSearchParams(`query=${normalizeSearchQuery}`);\n    // setSearchQuery('');\n  };\n\n  return (\n    <>\n      <SearchForm onSubmit={handleSubmit}>\n        <Input\n          type=\"text\"\n          name=\"searchQuery\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={searchQuery}\n          onChange={handleInputChange}\n        />\n        <Button type=\"submit\">\n          <Label>Search</Label>\n        </Button>\n      </SearchForm>\n\n      {data ? (\n        data.results?.length ? (\n          <Gallery data={data} />\n        ) : (\n          <NotFoundPage />\n        )\n      ) : null}\n    </>\n  );\n}\n"],"names":["SearchForm","styled","Button","icon","Label","Input","NotFoundPage","lazy","MoviesPage","useState","searchQuery","setSearchQuery","data","setData","useSearchParams","setSearchParams","search","useLocation","useEffect","movieAPI","slice","then","onSubmit","e","preventDefault","normalizeSearchQuery","trim","toLowerCase","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","results","length","Gallery"],"sourceRoot":""}